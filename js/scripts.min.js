var navMain=document.querySelector(".main-nav"),navToggle=document.querySelector(".main-nav__toggle");navMain.classList.remove("main-nav--nojs"),navToggle.addEventListener("click",function(){navMain.classList.contains("main-nav--closed")?(navMain.classList.remove("main-nav--closed"),navMain.classList.add("main-nav--opened")):(navMain.classList.add("main-nav--closed"),navMain.classList.remove("main-nav--opened"))});var link=document.querySelector(".main-nav__user-login"),popup=document.querySelector(".modal-content"),close=popup.querySelector(".modal-content__btn--close"),overlay=document.querySelector(".modal-overlay"),form=popup.querySelector(".modal-content__login-form"),login=popup.querySelector("[name=login]"),password=popup.querySelector("[name=password]"),storageName=localStorage.getItem("login");link.addEventListener("click",function(o){o.preventDefault(),overlay.classList.add("modal-overlay-show"),popup.classList.add("modal-content-show");var e=localStorage.getItem("login");console.log(e),e?(login.value=e,password.focus()):login.focus()}),close.addEventListener("click",function(o){o.preventDefault(),overlay.classList.remove("modal-overlay-show"),popup.classList.remove("modal-content-show"),popup.classList.remove("modal-content-error")}),login.addEventListener("change",function(o){localStorage.setItem("login",login.value)}),form.addEventListener("submit",function(o){login.value&&password.value||(o.preventDefault(),popup.classList.add("modal-content-error"),login.value?password.focus():login.focus())}),window.addEventListener("keydown",function(o){27===o.keyCode&&(popup.classList.contains("modal-content-show")?(overlay.classList.remove("modal-overlay-show"),popup.classList.remove("modal-content-show"),popup.classList.remove("modal-content-error")):popup.classList.contains("modal-content-show")&&navMain.classList.contains("main-nav--opened")?(overlay.classList.remove("modal-overlay-show"),popup.classList.remove("modal-content-show"),popup.classList.remove("modal-content-error")):navMain.classList.contains("main-nav--opened")&&(navMain.classList.remove("main-nav--opened"),navMain.classList.add("main-nav--closed")))}),overlay.addEventListener("click",function(o){popup.classList.contains("modal-content-show")&&(popup.classList.remove("modal-content-show"),overlay.classList.remove("modal-overlay-show"),popup.classList.remove("modal-content-error"))});